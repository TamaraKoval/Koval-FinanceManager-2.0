# Программа "Личный финансовый менеджер"
### Выполнена для Netology.ru

## Основной функционал:
**Программа состоит из двух основных классов:**
1. ```Client``` - является интерфейсом для пользователя, откуда он может отправить данные о покупках на сервер (для анализа) и получить статистику о покупках на текущий день.
2. ```Main``` - является сервером, которому подключаются клиенты. Обрабатывает входящую информацию о покупках и предлагает пользователю получить отчет-статистику о своих тратах.

## Вспомогательные классы:
1. ```Purchase``` - класс для создания объектов покупки. Содержит поля: название, дата и сумма покупки.
2. ```StorageForPurchases``` - класс для создания объектов "хранилица покупок". Реализует интерфейс ```Storable```
Хранит в все данные о покупках в списках покупок. Имеет поля: список покупок за все время, за последний год, месяц и день. Имеет методы:
   * ```void addToStorage(Purchase purchase)``` - добавление покупки в "хранилище" с одновременной фильтрацией покупки за последний год, месяц и день.
   * ```void refreshStorage()``` - обновление отфильтрованных списков за последний год, месяц и день на текущую дату. 
   * ```void saveBin(File file)``` - сохраняет данные об объекте хранилица в указанный bin-файл.
   * ```static StorageForPurchases loadFromBin(File file)``` - извлекает объект класса из указанного bin-файла
3. ```CategorizatorCSV``` - класс для работы с катерогиями данных, полученных из файла формата csv. Реализует интерфейс ```Categorizable```. Файл с категориями указывается при создании объекта класса-категоризатора (парсинг данных инициируется в конструкторе). Имеет методы:
    * ```String getCategory(String name)``` - возвращает категорию объекта по переданному названию (либо категорию "другое", если соответствующая актегория не найдена).
    * ```String[] getListOfCategories()``` - возвращает весь список доступных категорий (категорий из файла csv + категория "другое").
4. ```MaxCategory``` - класс для создания объекта максимальной найденной в статистике категории. Содержит поля: категория и сумма.
5. ```MaxCategoryReport``` - объект для создания отчета по максимальным категориям. Имеет поля с объектами класса MaxCategory, в которых содержатся данные за все время, за год, за месяц и за текущий день.
6. ```PurchaceAnalyzer``` - класс для анализа списков данных (покупок) с учетом категоризатора данных (объекта CategorizatorCSV). Категоризатор передается объекту в качестве параметра в конструкторе. Имеет методы:
    * ```void prepareDataForAnalysis(StorageForPurchases storage)``` - составляет ассоциативные массивы из данных, полученных из хранилища. Ассоциативные массивы хранят в себе ключ: категория, и значение: сумму. Всего формируется 4 массива: данные для анализа за все время, за последний год, месяц и за текущую дату. Перед формированием ассоциативных массивов вызывает метод ```refreshStorage``` объекта класса хранилища для актуализации данных.
    * ```protected void fillMap(Map<String, Integer> map, List<Purchase> purchaseList``` - вспомогательный метод для заполнения ассоциативного массива данными из хранилища.
    * ```protected MaxCategory findMaxCategory(Map<String, Integer> map) ``` - метод для поиска максимальной матегории в ассоциативном массиве и формирования объекта MaxCategory.
    * ```void doAnalytics()``` - формирует объект класса MaxCategoryReport, состоящий из объектов MaxCategory, полученных в результате обработки ассоциативных массивов с данными за все время, за год, за месяц и за день.